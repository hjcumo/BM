<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë²•ì¸ ëŒ€í‘œì´ì‚¬ ì£¼ì†Œë³€ê²½ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: ì‚¬ìš©ìì˜ í•µì‹¬ ì˜ì‚¬ê²°ì •ì¸ 'ì…€í”„ ì²˜ë¦¬ vs. ì „ë¬¸ê°€ ìœ„ì„'ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„ëœ íƒœìŠ¤í¬ ì¤‘ì‹¬ì˜ ëŒ€ì‹œë³´ë“œ êµ¬ì¡°ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ ë‘ ê°€ì§€ ì˜µì…˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´, ë¹„ìš©, ì ˆì°¨, í•„ìš” ì„œë¥˜ ë“± ê´€ë ¨ëœ ëª¨ë“  ì •ë³´ê°€ ë™ì ìœ¼ë¡œ í•„í„°ë§ë˜ì–´ ì œê³µë©ë‹ˆë‹¤. ì´ëŠ” ë³´ê³ ì„œì˜ ë°©ëŒ€í•œ í…ìŠ¤íŠ¸ë¥¼ ë‚˜ì—´í•˜ëŠ” ëŒ€ì‹ , ì‚¬ìš©ìê°€ ìì‹ ì˜ ìƒí™©ì— ë§ëŠ” ì •ë³´ë§Œ ì§‘ì¤‘ì ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•˜ì—¬ ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. í•µì‹¬ ì •ë³´(ê¸°í•œ, ê³¼íƒœë£Œ)ë¥¼ ìƒë‹¨ì— ë°°ì¹˜í•˜ì—¬ ì¤‘ìš”ë„ë¥¼ ê°•ì¡°í•˜ê³ , ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì •ë³´ ìŠµë“ì˜ íš¨ìœ¨ê³¼ ì¬ë¯¸ë¥¼ ë”í–ˆìŠµë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: 1. ë¹„ìš© ë¹„êµ: Bar Chart (Chart.js)ë¥¼ ì‚¬ìš©í•˜ì—¬ 'ì…€í”„'ì™€ 'ìœ„ì„'ì˜ ì´ë¹„ìš©ì„ ì‹œê°ì ìœ¼ë¡œ ì¦‰ì‹œ ë¹„êµí•©ë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ìì˜ ê°€ì¥ í° ê´€ì‹¬ì‚¬ ì¤‘ í•˜ë‚˜ì¸ ë¹„ìš©ì„ ì§ê´€ì ìœ¼ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. 2. ì—…ë¬´ ì ˆì°¨ë„: HTML/CSS Flexboxë¡œ êµ¬í˜„í•œ ì‹œê°ì  í”Œë¡œìš°ì°¨íŠ¸ë¥¼ í†µí•´ ë³µì¡í•œ ë“±ê¸° ì ˆì°¨ë¥¼ ë‹¨ê³„ë³„ë¡œ ì‰½ê²Œ ì´í•´í•˜ë„ë¡ ë•ìŠµë‹ˆë‹¤. ì„ íƒì— ë”°ë¼ ê´€ë ¨ ë‹¨ê³„ê°€ í•˜ì´ë¼ì´íŠ¸ë˜ì–´ ì‚¬ìš©ì ë§ì¶¤í˜• ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤. 3. í•„ìš” ì„œë¥˜: ì¸í„°ë™í‹°ë¸Œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ì—¬ ì‹¤ë¬´ìê°€ ì‹¤ì œ ì—…ë¬´ì— ë°”ë¡œ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. 4. ë¦¬ìŠ¤í¬ ë¶„ì„: ì•„ì´ì½˜ê³¼ ì¹´ë“œë¥¼ í™œìš©í•˜ì—¬ ìì¹« ë”±ë”±í•  ìˆ˜ ìˆëŠ” ë²•ì  ë¦¬ìŠ¤í¬ ì •ë³´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ì „ë‹¬í•˜ê³  ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }
        .tab-button.active {
            border-color: #2563eb;
            background-color: #3b82f6;
            color: #ffffff;
            font-weight: 700;
        }
        .flow-step.highlight .step-circle {
             background-color: #3b82f6;
             color: white;
             border-color: #1d4ed8;
        }
        .flow-step.highlight .step-title {
            color: #1e3a8a;
            font-weight: 700;
        }
        .risk-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .risk-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">

    <div class="container mx-auto max-w-6xl p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-3">ë²•ì¸ ëŒ€í‘œì´ì‚¬ ì£¼ì†Œë³€ê²½</h1>
            <h2 class="text-xl md:text-2xl font-semibold text-blue-700">ì‹¤ë¬´ ì™„ë²½ ê°€ì´ë“œ & ë¦¬ìŠ¤í¬ ë¶„ì„</h2>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">ëŒ€í‘œì´ì‚¬ ì£¼ì†Œ ë³€ê²½, ë³µì¡í•˜ê²Œ ëŠê»´ì§€ì‹œë‚˜ìš”? ì´ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œë¥¼ í†µí•´ í•µì‹¬ ì ˆì°¨ë¶€í„° ë¹„ìš©, ë²•ì  ë¦¬ìŠ¤í¬ê¹Œì§€ í•œëˆˆì— íŒŒì•…í•˜ê³  ìµœì ì˜ ì‹¤í–‰ ë°©ì•ˆì„ ì„ íƒí•˜ì„¸ìš”.</p>
        </header>

        <section id="key-alert" class="mb-12">
             <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-6 rounded-r-lg grid md:grid-cols-2 gap-6 items-center shadow-lg">
                <div class="text-center">
                    <p class="text-lg font-semibold">âš ï¸ ì ˆëŒ€ ë†“ì¹˜ë©´ ì•ˆ ë  í•µì‹¬!</p>
                    <p class="text-3xl font-bold my-2">ë³€ê²½ í›„ <span class="text-red-600">14ì¼</span> ì´ë‚´</p>
                    <p class="text-gray-700">ëŒ€í‘œì´ì‚¬ ì „ì…ì‹ ê³ ì¼ ê¸°ì¤€, ë“±ê¸° ì™„ë£Œ í•„ìˆ˜</p>
                </div>
                <div class="text-center border-t md:border-t-0 md:border-l border-red-300 pt-4 md:pt-0 md:pl-6">
                     <p class="text-lg font-semibold">ğŸš¨ ë“±ê¸° ì§€ì—° ì‹œ ë¦¬ìŠ¤í¬</p>
                    <p class="text-3xl font-bold my-2">ìµœëŒ€ <span class="text-red-600">500ë§Œì›</span> ì´í•˜</p>
                    <p class="text-gray-700">ê³¼íƒœë£Œ ë¶€ê³¼ (ìƒë²• ì œ635ì¡°)</p>
                </div>
            </div>
        </section>

        <main>
            <section id="decision-hub" class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-900 mb-2">ì–´ë–»ê²Œ ì§„í–‰í•˜ì‹œê² ì–´ìš”?</h3>
                <p class="text-lg text-gray-600 mb-6">ì„ íƒì— ë”°ë¼ ë§ì¶¤í˜• ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                <div id="method-selector" class="flex justify-center gap-4">
                    <button data-method="self" class="tab-button w-40 py-3 px-6 border-2 border-gray-300 rounded-lg text-lg font-semibold transition-all duration-200">ì…€í”„ ë“±ê¸°</button>
                    <button data-method="pro" class="tab-button w-40 py-3 px-6 border-2 border-gray-300 rounded-lg text-lg font-semibold transition-all duration-200">ë²•ë¬´ì‚¬ ìœ„ì„</button>
                </div>
            </section>

            <div id="guide-content" class="space-y-16">
                
                <section id="process-flow">
                    <h3 class="text-3xl font-bold text-center mb-2 text-gray-900">í•µì‹¬ ì ˆì°¨ í•œëˆˆì— ë³´ê¸°</h3>
                    <p class="text-lg text-center text-gray-600 mb-10">ëŒ€í‘œì´ì‚¬ ì£¼ì†Œë³€ê²½ ë“±ê¸°ëŠ” ì•„ë˜ì™€ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ë©ë‹ˆë‹¤. ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì„¤ëª…ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <div id="flow-container" class="relative flex flex-col items-center">
                        <div class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-gray-300 transform -translate-x-1/2"></div>
                    </div>
                </section>

                <section id="cost-comparison">
                    <h3 class="text-3xl font-bold text-center mb-2 text-gray-900">ìƒì„¸ ë¹„ìš© ë¹„êµ</h3>
                    <p class="text-lg text-center text-gray-600 mb-10">ì˜ˆìƒë˜ëŠ” ì´ ë¹„ìš©ì„ ì‹œê°ì ìœ¼ë¡œ ë¹„êµí•˜ê³ , ìƒì„¸ ë‚´ì—­ì„ í™•ì¸í•˜ì—¬ í•©ë¦¬ì ì¸ ì˜ˆì‚°ì„ ê³„íší•˜ì„¸ìš”.</p>
                    <div class="grid md:grid-cols-5 gap-8 items-start">
                        <div class="md:col-span-3">
                           <div class="bg-white p-6 rounded-xl shadow-lg">
                                <div class="chart-container">
                                    <canvas id="costChart"></canvas>
                                </div>
                           </div>
                        </div>
                        <div id="cost-details" class="md:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                           <h4 class="text-xl font-bold mb-4 border-b pb-2">ìƒì„¸ ë¹„ìš© ë‚´ì—­</h4>
                           <div class="space-y-3"></div>
                        </div>
                    </div>
                </section>

                <section id="documents-checklist">
                    <h3 class="text-3xl font-bold text-center mb-2 text-gray-900">í•„ìš” ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
                    <p class="text-lg text-center text-gray-600 mb-10">ë“±ê¸° ì‹ ì²­ì— í•„ìš”í•œ ì„œë¥˜ ëª©ë¡ì…ë‹ˆë‹¤. ë¹ ì§ì—†ì´ ì¤€ë¹„í•˜ì—¬ ì—…ë¬´ë¥¼ ì›í™œí•˜ê²Œ ì§„í–‰í•˜ì„¸ìš”.</p>
                    <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg max-w-3xl mx-auto">
                        <div id="checklist-container" class="space-y-4"></div>
                        <p id="pro-doc-note" class="hidden mt-6 text-center text-blue-700 bg-blue-50 p-4 rounded-lg">
                            <strong>ë²•ë¬´ì‚¬ ìœ„ì„ ì‹œ:</strong> ëŒ€í‘œë‹˜ <span class="font-bold">ì£¼ë¯¼ë“±ë¡ì´ˆë³¸</span>ê³¼ <span class="font-bold">ë²•ì¸ì¸ê°ë„ì¥</span>ë§Œ ì¤€ë¹„í•´ì£¼ì‹œë©´, ë‚˜ë¨¸ì§€ëŠ” ë²•ë¬´ì‚¬ê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                </section>

                <section id="risk-analysis">
                    <h3 class="text-3xl font-bold text-center mb-2 text-gray-900">ë†“ì¹˜ë©´ ì•ˆ ë  ë¦¬ìŠ¤í¬ ë¶„ì„</h3>
                    <p class="text-lg text-center text-gray-600 mb-10">ë‹¨ìˆœí•œ ê³¼íƒœë£Œë¥¼ ë„˜ì–´, ë“±ê¸° ì§€ì—°ì´ ì´ˆë˜í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë²•ì Â·í–‰ì •ì  ë¬¸ì œë¥¼ ë¯¸ë¦¬ íŒŒì•…í•˜ê³  ëŒ€ë¹„í•˜ì„¸ìš”.</p>
                    <div id="risk-cards-container" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    </div>
                </section>

                <section id="final-recommendation">
                     <h3 class="text-3xl font-bold text-center mb-2 text-gray-900">ìµœì¢… ì œì–¸</h3>
                     <p class="text-lg text-center text-gray-600 mb-10">ê·€ì‚¬ì˜ ìƒí™©ê³¼ ìš°ì„ ìˆœìœ„ì— ë§ëŠ” ìµœì ì˜ ì„ íƒì€ ë¬´ì—‡ì¼ê¹Œìš”?</p>
                     <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div class="bg-white p-8 rounded-xl shadow-lg">
                            <h4 class="text-xl font-bold text-green-700 mb-3">ğŸ’° ë¹„ìš© ìµœì†Œí™” ìš°ì„ </h4>
                            <p class="text-gray-600">ì‹œê°„ì  ì—¬ìœ ê°€ ìˆê³  í–‰ì • ì—…ë¬´ì— ìì‹  ìˆë‹¤ë©´, 'ì…€í”„ ë“±ê¸°'ë¡œ ë¹„ìš©ì„ í¬ê²Œ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì¸í„°ë„· ì „ìë“±ê¸° ë°©ì‹ì´ ê°€ì¥ ì €ë ´í•©ë‹ˆë‹¤.</p>
                        </div>
                         <div class="bg-white p-8 rounded-xl shadow-lg">
                            <h4 class="text-xl font-bold text-orange-700 mb-3">â±ï¸ ì‹œê°„ íš¨ìœ¨ì„± ìš°ì„ </h4>
                            <p class="text-gray-600">í•µì‹¬ ì¸ë ¥ì˜ ì‹œê°„ì„ ì ˆì•½í•˜ê³  ë‹¤ë¥¸ ì¤‘ìš” ì—…ë¬´ì— ì§‘ì¤‘í•˜ê³  ì‹¶ë‹¤ë©´, 'ë²•ë¬´ì‚¬ ìœ„ì„'ì´ í•©ë¦¬ì ì¸ íˆ¬ìì…ë‹ˆë‹¤. ì ˆì°¨ì˜ ë²ˆê±°ë¡œì›€ì—ì„œ í•´ë°©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                         <div class="bg-white p-8 rounded-xl shadow-lg">
                            <h4 class="text-xl font-bold text-red-700 mb-3">ğŸ›¡ï¸ ë²•ì  ì•ˆì •ì„± ìš°ì„ </h4>
                            <p class="text-gray-600">ì‹¤ìˆ˜ ê°€ëŠ¥ì„±ì„ ì›ì²œ ì°¨ë‹¨í•˜ê³  ê³¼íƒœë£Œ ë“± ë²•ì  ë¦¬ìŠ¤í¬ë¥¼ ì™„ë²½í•˜ê²Œ í”¼í•˜ê³  ì‹¶ë‹¤ë©´, ì „ë¬¸ê°€ì¸ 'ë²•ë¬´ì‚¬ ìœ„ì„'ì´ ê°€ì¥ ì•ˆì „í•˜ê³  í™•ì‹¤í•œ ì„ íƒì…ë‹ˆë‹¤.</p>
                        </div>
                     </div>
                </section>

            </div>
        </main>

        <footer class="mt-20 pt-8 border-t text-center text-gray-500">
             <p>ë³¸ ì •ë³´ëŠ” 2025ë…„ 6ì›” 9ì¼ ê¸°ì¤€ì´ë©°, ë²•ê·œ ê°œì • ë“±ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
             <p>ì‹¤ì œ ì—…ë¬´ ì²˜ë¦¬ ì‹œì—ëŠ” ê´€ë ¨ ê¸°ê´€ì— ìµœì‹  ì •ë³´ë¥¼ ì¬í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
             <div class="mt-4 space-x-4">
                <a href="http://www.iros.go.kr" target="_blank" class="hover:text-blue-600">ì¸í„°ë„·ë“±ê¸°ì†Œ</a>
                <a href="https://www.hometax.go.kr" target="_blank" class="hover:text-blue-600">í™ˆíƒìŠ¤</a>
                <a href="https://www.4insure.or.kr" target="_blank" class="hover:text-blue-600">4ëŒ€ì‚¬íšŒë³´í—˜ ì •ë³´ì—°ê³„ì„¼í„°</a>
             </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const data = {
                costs: {
                    self: {
                        registrationTax: 40200,
                        educationTax: 8040,
                        applicationFee: { min: 2000, max: 6000 },
                        etcFee: 500,
                    },
                    pro: {
                        registrationTax: 40200,
                        educationTax: 8040,
                        applicationFee: { min: 2000, max: 6000 },
                        proFee: { min: 100000, max: 200000 },
                        etcFee: 500,
                    }
                },
                process: [
                    { step: 1, title: 'ëŒ€í‘œì´ì‚¬ ì „ì…ì‹ ê³ ', detail: 'ëŒ€í‘œì´ì‚¬ê°€ ìƒˆë¡œìš´ ì£¼ì†Œì§€ë¡œ ì „ì…ì‹ ê³ ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤. ì´ ë‚ ì§œë¡œë¶€í„° 14ì¼ì˜ ë²•ì •ê¸°í•œì´ ì‹œì‘ë©ë‹ˆë‹¤.', for: ['self', 'pro'] },
                    { step: 2, title: 'í•„ìš” ì„œë¥˜ ì¤€ë¹„', detail: 'ëŒ€í‘œì´ì‚¬ ì£¼ë¯¼ë“±ë¡ì´ˆë³¸ ë“± ë“±ê¸°ì— í•„ìš”í•œ ì„œë¥˜ë¥¼ ë°œê¸‰ë°›ê³  ì¤€ë¹„í•©ë‹ˆë‹¤. ì´ˆë³¸ì€ ì£¼ì†Œ ë³€ë™ ë‚´ì—­ì´ ëª¨ë‘ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.', for: ['self'] },
                    { step: 3, title: 'ë“±ë¡ë©´í—ˆì„¸ ë‚©ë¶€', detail: 'ê´€í•  êµ¬ì²­ ì„¸ë¬´ê³¼ì— ë“±ë¡ë©´í—ˆì„¸(40,200ì›)ì™€ ì§€ë°©êµìœ¡ì„¸(8,040ì›)ë¥¼ ë‚©ë¶€í•©ë‹ˆë‹¤. ìœ„íƒìŠ¤/ì´íƒìŠ¤ì—ì„œ ì˜¨ë¼ì¸ ë‚©ë¶€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.', for: ['self'] },
                    { step: 4, title: 'ë“±ê¸°ì‹ ì²­ì„œ ì‘ì„± ë° ìˆ˜ìˆ˜ë£Œ ë‚©ë¶€', detail: 'ì¸í„°ë„·ë“±ê¸°ì†Œ(ì˜¨ë¼ì¸) ë˜ëŠ” ë“±ê¸°ì†Œ(ì˜¤í”„ë¼ì¸)ì—ì„œ ë³€ê²½ë“±ê¸°ì‹ ì²­ì„œë¥¼ ì‘ì„±í•˜ê³ , ë°©ì‹ì— ë”°ë¼ ë“±ê¸°ì‹ ì²­ìˆ˜ìˆ˜ë£Œ(2,000ì›~6,000ì›)ë¥¼ ë‚©ë¶€í•©ë‹ˆë‹¤.', for: ['self'] },
                    { step: 5, title: 'ë²•ì¸ ë³€ê²½ ë“±ê¸° ì‹ ì²­', detail: 'ì¤€ë¹„ëœ ëª¨ë“  ì„œë¥˜ë¥¼ ì²¨ë¶€í•˜ì—¬ ê´€í•  ë“±ê¸°ì†Œì— ë³€ê²½ ë“±ê¸°ë¥¼ ì‹ ì²­í•©ë‹ˆë‹¤. (ì „ì/ì„œë©´/e-Form ë°©ì‹ ì¤‘ ì„ íƒ)', for: ['self'] },
                    { step: 6, title: 'ë²•ë¬´ì‚¬ ì„œë¥˜ ì „ë‹¬ ë° ìœ„ì„', detail: 'ë²•ë¬´ì‚¬ì—ê²Œ ëŒ€í‘œì´ì‚¬ ì£¼ë¯¼ë“±ë¡ì´ˆë³¸, ë²•ì¸ì¸ê°ë„ì¥ ë“± í•„ìš” ì„œë¥˜ë¥¼ ì „ë‹¬í•˜ê³  ì—…ë¬´ë¥¼ ìœ„ì„í•©ë‹ˆë‹¤.', for: ['pro'] },
                    { step: 7, title: 'ë²•ë¬´ì‚¬ê°€ ë“±ê¸° ì—…ë¬´ ëŒ€í–‰', detail: 'ë²•ë¬´ì‚¬ê°€ ëª¨ë“  ì„œë¥˜ ì‘ì„±, ì„¸ê¸ˆ ë‚©ë¶€, ë“±ê¸° ì‹ ì²­ ë° ì™„ë£Œê¹Œì§€ ì „ ê³¼ì •ì„ ì±…ì„ì§€ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤.', for: ['pro'] },
                    { step: 8, title: 'í›„ì† ì¡°ì¹˜ (4ëŒ€ë³´í—˜/ì€í–‰ ë“±)', detail: 'ë“±ê¸° ì™„ë£Œ í›„, 4ëŒ€ ì‚¬íšŒë³´í—˜ ì •ë³´ ë³€ê²½ ì‹ ê³  ë° ì£¼ê±°ë˜ ì€í–‰ì— ë³€ê²½ ì‚¬ì‹¤ í†µì§€ ë“± í›„ì† ì¡°ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.', for: ['self', 'pro'] },
                ],
                documents: [
                    { name: 'ëŒ€í‘œì´ì‚¬ ì£¼ë¯¼ë“±ë¡ì´ˆë³¸', detail: 'ê³¼ê±° ì£¼ì†Œ ë³€ë™ë‚´ì—­ ì „ì²´ í¬í•¨, ì£¼ë¯¼ë²ˆí˜¸ ì „ì²´ ê³µê°œ, 3ê°œì›” ë‚´ ë°œê¸‰ë¶„' },
                    { name: 'ë“±ë¡ë©´í—ˆì„¸ ë‚©ë¶€í™•ì¸ì„œ', detail: 'ì´ 48,240ì› (ë¹„ê³¼ë°€ì–µì œê¶Œì—­ ê¸°ì¤€)' },
                    { name: 'ë“±ê¸°ì‹ ì²­ìˆ˜ìˆ˜ë£Œ ë‚©ë¶€ ì˜ìˆ˜ì¦', detail: 'ì „ì 2,000ì›, e-Form 4,000ì›, ì„œë©´ 6,000ì›' },
                    { name: 'ì£¼ì‹íšŒì‚¬ë³€ê²½ë“±ê¸°ì‹ ì²­ì„œ', detail: 'ì¸í„°ë„·ë“±ê¸°ì†Œì—ì„œ ì‘ì„± ë˜ëŠ” ë‹¤ìš´ë¡œë“œ' },
                    { name: 'ë²•ì¸ì¸ê°ë„ì¥', detail: 'ì‹ ì²­ì„œ ë‚ ì¸ ì‹œ í•„ìš”' },
                    { name: 'ìœ„ì„ì¥ (ëŒ€ë¦¬ì¸ ì‹ ì²­ ì‹œ)', detail: 'ë²•ì¸ì¸ê° ë‚ ì¸' },
                    { name: 'ë²•ì¸ ì „ìì¦ëª…ì„œ (ì „ìë“±ê¸° ì‹œ)', detail: 'ì¸í„°ë„·ë“±ê¸°ì†Œ ë¡œê·¸ì¸ ë° ì „ìì„œëª…ìš© USB' }
                ],
                risks: [
                    { icon: 'âš–ï¸', title: 'ë²•ì  ë¶„ìŸ ë°œìƒ', description: 'ì¤‘ìš” ì„œë¥˜ê°€ ê³¼ê±° ì£¼ì†Œë¡œ ì†¡ë‹¬ë˜ì–´ ì†Œì†¡ ëŒ€ì‘ ê¸°íšŒë¥¼ ë†“ì¹˜ê±°ë‚˜, ê³„ì•½ ì‹œ ìƒëŒ€ë°©ì—ê²Œ í˜¼ë€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { icon: 'ğŸ¦', title: 'ê¸ˆìœµ ê±°ë˜ ì œí•œ', description: 'ì€í–‰ì˜ ê³ ê°í™•ì¸(KYC) ì ˆì°¨ì— ë”°ë¼ ëŒ€ì¶œ, ì¤‘ìš” ê±°ë˜ ì‹œ ì œí•œì´ ë°œìƒí•˜ê±°ë‚˜ ë²•ì¸ ì‹ ìš©ë„ì— ë¶€ì •ì  ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { icon: 'ğŸ“„', title: 'ê³µê³µì…ì°° ì°¸ì—¬ ë¬¸ì œ', description: 'ì…ì°° ì°¸ê°€ ìê²© ë“±ë¡/ê°±ì‹  ì‹œ ì œì¶œ ì„œë¥˜ì˜ ì •í™•ì„± ë¬¸ì œë¡œ ì‹¬ì‚¬ê°€ ì§€ì—°ë˜ê±°ë‚˜ ê¸°ì—… ì‹ ë¢°ë„ì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { icon: 'ğŸ“‰', title: 'ëŒ€ì™¸ ì‹ ë¢°ë„ ì €í•˜', description: 'ê¸°ë³¸ì ì¸ ë²•ê·œë¥¼ ì¤€ìˆ˜í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì¸ìƒì„ ì£¼ì–´ ê±°ë˜ì²˜, íˆ¬ìì ë“±ì—ê²Œ ê¸°ì—…ì˜ ì‹ ë¢°ë„ë¥¼ ë–¨ì–´ëœ¨ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { icon: 'ğŸ¢', title: 'í–‰ì •ê¸°ê´€ì˜ ì‹œì • ìš”êµ¬', description: 'ê³¼íƒœë£Œ ë¶€ê³¼ ì™¸ì—ë„ ë“±ê¸° ì‚¬í•­ì„ ì‹œì •í•˜ë¼ëŠ” í–‰ì • ëª…ë ¹ì„ ë°›ì•„ ì¶”ê°€ì ì¸ ì—…ë¬´ ë¶€ë‹´ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { icon: 'ğŸ’¸', title: 'ê³¼íƒœë£Œ (ìµœëŒ€ 500ë§Œì›)', description: 'ê°€ì¥ ì§ì ‘ì ì¸ ë¦¬ìŠ¤í¬ë¡œ, ë“±ê¸° í•´íƒœ ê¸°ê°„ì— ë”°ë¼ ê¸ˆì•¡ì´ ê°€ì¤‘ë˜ì–´ ìƒë‹¹í•œ ê¸ˆì „ì  ì†ì‹¤ì„ ì•¼ê¸°í•©ë‹ˆë‹¤.' }
                ]
            };

            let currentMethod = 'self';
            let costChart;

            const methodSelector = document.getElementById('method-selector');
            const costDetailsContainer = document.querySelector('#cost-details .space-y-3');
            const checklistContainer = document.getElementById('checklist-container');
            const proDocNote = document.getElementById('pro-doc-note');
            const flowContainer = document.getElementById('flow-container');
            const riskCardsContainer = document.getElementById('risk-cards-container');

            function formatCurrency(num) {
                return `${num.toLocaleString('ko-KR')}ì›`;
            }

            function renderProcessFlow() {
                flowContainer.innerHTML = '';
                const relevantSteps = data.process.filter(p => p.for.includes(currentMethod));
                relevantSteps.forEach((p, index) => {
                    const isLast = index === relevantSteps.length - 1;
                    const stepDiv = document.createElement('div');
                    stepDiv.className = `flow-step relative w-full flex items-start mb-8 ${p.for.includes(currentMethod) ? 'highlight' : ''}`;
                    
                    const sideClass = index % 2 === 0 ? 'flex-row-reverse text-right' : 'text-left';
                    const marginClass = index % 2 === 0 ? 'mr-10' : 'ml-10';

                    stepDiv.innerHTML = `
                        <div class="step-content w-5/12 ${marginClass}">
                            <h4 class="step-title text-lg font-semibold text-gray-700">${p.title}</h4>
                            <p class="text-sm text-gray-500">${p.detail}</p>
                        </div>
                        <div class="step-circle absolute left-1/2 top-0 transform -translate-x-1/2 w-10 h-10 bg-white border-2 border-gray-300 rounded-full flex items-center justify-center font-bold text-gray-500 text-lg transition-all duration-300">
                           ${p.step}
                        </div>
                    `;
                    flowContainer.appendChild(stepDiv);
                });
            }

            function renderCostDetails() {
                costDetailsContainer.innerHTML = '';
                const costs = data.costs[currentMethod];
                const totalMin = costs.registrationTax + costs.educationTax + costs.applicationFee.min + (costs.proFee ? costs.proFee.min : 0) + costs.etcFee;
                const totalMax = costs.registrationTax + costs.educationTax + costs.applicationFee.max + (costs.proFee ? costs.proFee.max : 0) + costs.etcFee;

                let detailsHtml = `
                    <div class="flex justify-between items-center py-2"><span>ë“±ë¡ë©´í—ˆì„¸</span><span class="font-semibold">${formatCurrency(costs.registrationTax)}</span></div>
                    <div class="flex justify-between items-center py-2"><span>ì§€ë°©êµìœ¡ì„¸</span><span class="font-semibold">${formatCurrency(costs.educationTax)}</span></div>
                    <div class="flex justify-between items-center py-2"><span>ë“±ê¸°ì‹ ì²­ìˆ˜ìˆ˜ë£Œ</span><span class="font-semibold">${formatCurrency(costs.applicationFee.min)} ~ ${formatCurrency(costs.applicationFee.max)}</span></div>
                     <div class="flex justify-between items-center py-2"><span>ê¸°íƒ€ ë¹„ìš© (ì¦ëª…ì„œ ë°œê¸‰ ë“±)</span><span class="font-semibold">ì•½ ${formatCurrency(costs.etcFee)}</span></div>
                `;

                if (currentMethod === 'pro') {
                    detailsHtml += `<div class="flex justify-between items-center py-2 text-blue-600"><span>ë²•ë¬´ì‚¬ ìˆ˜ìˆ˜ë£Œ (VATë³„ë„)</span><span class="font-bold">${formatCurrency(costs.proFee.min)} ~ ${formatCurrency(costs.proFee.max)}</span></div>`;
                }
                
                detailsHtml += `
                    <div class="border-t mt-3 pt-3">
                         <div class="flex justify-between items-center text-lg font-bold">
                            <span>ì˜ˆìƒ ì´ê³„</span>
                            <span>${formatCurrency(totalMin)} ~ ${formatCurrency(totalMax)}</span>
                        </div>
                    </div>
                `;

                costDetailsContainer.innerHTML = detailsHtml;
            }

            function renderChecklist() {
                checklistContainer.innerHTML = '';
                data.documents.forEach(doc => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'flex items-start bg-gray-50 p-4 rounded-lg';
                    itemDiv.innerHTML = `
                        <input type="checkbox" id="doc-${doc.name}" class="mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                        <label for="doc-${doc.name}" class="ml-3">
                            <span class="font-semibold text-gray-800">${doc.name}</span>
                            <p class="text-sm text-gray-500">${doc.detail}</p>
                        </label>
                    `;
                    checklistContainer.appendChild(itemDiv);
                });

                if (currentMethod === 'pro') {
                    checklistContainer.classList.add('hidden');
                    proDocNote.classList.remove('hidden');
                } else {
                    checklistContainer.classList.remove('hidden');
                    proDocNote.classList.add('hidden');
                }
            }
            
            function renderRisks() {
                riskCardsContainer.innerHTML = '';
                 data.risks.forEach(risk => {
                    const card = document.createElement('div');
                    card.className = 'risk-card bg-white p-6 rounded-xl shadow-lg flex items-start space-x-4';
                    card.innerHTML = `
                        <div class="text-3xl">${risk.icon}</div>
                        <div>
                            <h4 class="text-lg font-bold text-gray-900 mb-1">${risk.title}</h4>
                            <p class="text-gray-600">${risk.description}</p>
                        </div>
                    `;
                    riskCardsContainer.appendChild(card);
                });
            }

            function updateChart() {
                const selfCosts = data.costs.self;
                const proCosts = data.costs.pro;

                const selfTotal = selfCosts.registrationTax + selfCosts.educationTax + selfCosts.applicationFee.min + selfCosts.etcFee;
                const proTotalBase = proCosts.registrationTax + proCosts.educationTax + proCosts.applicationFee.min + proCosts.etcFee;
                const proTotalFee = proCosts.proFee.min;
                
                const datasets = [
                    {
                        label: 'ì…€í”„ ë“±ê¸° (ìµœì†Œ ë¹„ìš©)',
                        data: [selfTotal, 0],
                        backgroundColor: 'rgba(22, 163, 74, 0.6)',
                        borderColor: 'rgba(22, 163, 74, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'ë²•ë¬´ì‚¬ ìœ„ì„ (ê³µê³¼ê¸ˆ)',
                        data: [0, proTotalBase],
                        backgroundColor: 'rgba(59, 130, 246, 0.6)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1,
                        stack: 'pro'
                    },
                    {
                        label: 'ë²•ë¬´ì‚¬ ìœ„ì„ (ìˆ˜ìˆ˜ë£Œ)',
                        data: [0, proTotalFee],
                        backgroundColor: 'rgba(234, 88, 12, 0.6)',
                        borderColor: 'rgba(234, 88, 12, 1)',
                        borderWidth: 1,
                        stack: 'pro'
                    }
                ];
                
                if (currentMethod === 'self') {
                    costChart.data.datasets = [datasets[0]];
                } else if (currentMethod === 'pro') {
                    costChart.data.datasets = [datasets[1], datasets[2]];
                } else {
                     costChart.data.datasets = datasets;
                }
                
                costChart.update();
            }
            
            function initChart() {
                const ctx = document.getElementById('costChart').getContext('2d');
                costChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['ì…€í”„ ë“±ê¸°', 'ë²•ë¬´ì‚¬ ìœ„ì„'],
                        datasets: []
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                stacked: true,
                                ticks: {
                                    callback: function(value) {
                                        return formatCurrency(value);
                                    }
                                }
                            },
                            x: {
                                stacked: true,
                            }
                        },
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.y !== null) {
                                            label += formatCurrency(context.parsed.y);
                                        }
                                        return label;
                                    }
                                }
                            },
                            legend: {
                                display: true
                            }
                        }
                    }
                });
            }


            function selectMethod(method) {
                currentMethod = method;
                
                document.querySelectorAll('.tab-button').forEach(btn => {
                    if (btn.dataset.method === method) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                renderUI();
            }

            function renderUI() {
                renderProcessFlow();
                renderCostDetails();
                renderChecklist();
                updateChart();
            }

            methodSelector.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') {
                    selectMethod(e.target.dataset.method);
                }
            });
            
            // Initial render
            initChart();
            renderRisks();
            selectMethod('self'); 
        });
    </script>
</body>
</html>
